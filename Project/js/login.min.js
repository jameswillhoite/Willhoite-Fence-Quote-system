"use strict";var login={init:function(){var a=this;jQuery("input#password").on("keyup",function(b){if(b.keyCode===13){a.login()}})},login:function(){var b=this;var a=jQuery("div#login input#username");var c=jQuery("div#login input#password");if(!a.val()||a.val().length===0){a.addClass("is-invalid");b.displayErrorMsg("Please enter a vaild username","danger");return}else{a.removeClass("is-invalid")}if(!c.val()||c.val().length===0){c.addClass("is-invalid");b.displayErrorMsg("Please enter a password","danger");return}else{c.removeClass("is-invalid")}jQuery.ajax({type:"POST",url:window.baseURL+"router.php?task=mainJS.login",data:{email:a.val(),password:c.val()},dataType:"json",cache:false,beforeSend:function(){jQuery("div.overlay").fadeIn("fast")},complete:function(){jQuery("div.overlay").fadeOut("fast")},success:function(d){console.log(d);if(d.error){b.displayErrorMsg(d.error_msg,"danger");return}window.location.href=window.baseURL+"index.php"},error:function(e,d,f){console.log(e,d,f)}})},errorID:null,errorEl:null,displayErrorMsg:function(a,f,e){var b=this;if(this.errorID){this.errorEl.slideUp("500");clearTimeout(b.errorID);this.errorID=null;this.errorEl=null}var c;var d;if(jQuery("div.modal.show").length>0){c=jQuery("div.modal.show div#error_msg")}else{c=jQuery("div#main-content div#mainErrorMsg div#error_msg")}c.removeClass("alert-success alert-danger alert-info alert-warning");c.empty();c.html(a);c.addClass("alert-"+f);b.errorEl=c;if(e){d=e*1000}else{d=400*a.length}c.slideDown(500);b.errorID=setTimeout(function(){c.slideUp(500)},d)}};